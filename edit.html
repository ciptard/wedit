<p>[#path#]</p>
<hr>
<div id="status">[#status#]</div>
<hr>
<div><textarea id="contents" disabled="true"></textarea></div>
<hr>
<input type="button" value="&uarr; [#Save#]" onclick="saveFile();"/>

<input id="encoding" type="hidden" value=""/>
<input id="filename" type="hidden" value="[#filename#]"/>
<input id="savestatus" type="hidden" value="[#savestatus#]"/>

<script type="text/javascript" language="javascript">
//Сохранить файл
function saveFile()
{
  $('#status').html($('#savestatus').val());
  content = $('#contents');
  content.attr('disabled', 'true');
  var filename = $('#filename').val();
  if (filename != '' && filename != null) {
    $.ajax({
      type: "POST",
      url: "file.php",
      data: { 
        operation: "save",
        filename: filename,
        filecontent: $('textarea#contents').val(),
        encoding: $('input#encoding').val()
      }
    }).done(function(msg) {
      content.removeAttr('disabled');
      var result = jQuery.parseJSON(msg);
      //Обновим состояние
      $('#status').html(result.status);
    });
  }
}
</script>